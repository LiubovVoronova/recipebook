<h2>New Recipe</h2>
<hr>
<div class="col-md-6">
  <h3>[Recipe name]</h3>
  <form #newRecipeForm="ngForm"
        (ngSubmit)="saveNewRecipe(newRecipeForm.value)"
        autocomplete="off"
        novalidate>
    <div class="form-group"
         [ngClass]="{'error': newRecipeForm.controls.name?.invalid && newRecipeForm.controls.name?.touched}">
      <label for="recipeName">Recipe Name:</label>
      <em *ngIf="newRecipeForm.controls.name?.invalid && (newRecipeForm.controls.name?.touched)">Required</em>
      <input ngModel
             name="title"
             required
             id="recipeName"
             type="text"
             class="form-control"
             placeholder="Name of your recipe" />
    </div>
    <div class="form-group"
         [ngClass]="{'error': newRecipeForm.controls.category?.invalid && newRecipeForm.controls.category?.touched}">
      <label for="recipeCategory">Recipe category:</label>
      <em *ngIf="newRecipeForm.controls.category?.invalid && (newRecipeForm.controls.category?.touched)">Required</em>
      <select ngModel
              name="category"
              required
              id="recipeCategory"
              class="form-control">
        <option>Breakfast</option>
        <option>Starter</option>
        <option>Main course</option>
        <option>Dessert</option>
        <option>Vegetarian</option>
      </select>
    </div>
    <div class="form-group"
         [ngClass]="{'error': newRecipeForm.controls.area?.invalid && newRecipeForm.controls.area?.touched}">
      <label for="recipeArea">Recipe area:</label>
      <em *ngIf="newRecipeForm.controls.area?.invalid && (newRecipeForm.controls.area?.touched)">Required</em>
      <input ngModel
             name="area"
             required
             id="recipeArea"
             type="text"
             class="form-control"
             placeholder="Which country recipe belongs to" />
    </div>
    <div class="form-group"
         [ngClass]="{'error': newRecipeForm.controls.description?.invalid && newRecipeForm.controls.description?.touched}">
      <label for="RecipeDescription">Recipe description:</label>
      <em *ngIf="newRecipeForm.controls.description?.invalid && (newRecipeForm.controls.description?.touched)">Required</em>
      <textarea ngModel
                name="description"
                required
                id="RecipeDescription"
                class="form-control"
                placeholder="Recipe description">
      </textarea>
    </div>

    <div class="form-group"
         [ngClass]="{'error': newRecipeForm.controls.imageUrl?.invalid && newRecipeForm.controls.imageUrl?.touched}">
      <label for="imageUrl">Image:</label>
      <em *ngIf="newRecipeForm.controls.imageUrl?.invalid && newRecipeForm.controls.imageUrl?.touched && newRecipeForm.controls.imageUrl?.errors.required">Required</em>
      <em *ngIf="newRecipeForm.controls.imageUrl?.invalid && newRecipeForm.controls.imageUrl?.touched  && newRecipeForm.controls.imageUrl?.errors.pattern">Must be a png or jpg url</em>
      <input ngModel
             name="image"
             required
             pattern=".*\/.*.(png|jpg)"
             id="imageUrl"
             type="text"
             class="form-control"
             placeholder="url of image" />
      <img *ngIf="newRecipeForm.controls.imageUrl?.valid"
           [src]="newRecipeForm.controls.imageUrl.value"
           alt=""
           width="150px"/>
    </div>

    <div ngModelGroup="ingredients">
      <div class="form-group">
        <p class="mt-2">Recipe Ingredients:</p>
      </div>
      <div class="row">
        <div class="col-md-6">
          <label for="ingName">Ingredient name</label>
            <input ngModel
                   name="ingName"
                   id="ingName"
                   type="text"
                   class="form-control"
                   placeholder="Enter ingredient name" />
        </div>
        <div class="col-md-6" >
          <label for="measure">Quantity</label>
            <input ngModel
                   name="measure"
                   id="measure"
                   type="text"
                   class="form-control"
                   placeholder="Enter ingredient amount and measure" />
        </div>
      </div>
    </div>

    <div class="form-row pt-3">
      <div class="col-auto">
        <button type="submit"
                class="btn btn-primary"
                >Add</button>
      </div>
      <div class="col-auto">
        <button type="button"
                class="btn btn-default"
                (click)="returnToMain()">Cancel</button>
      </div>
    </div>
  </form>
</div>
